
<template>
  <div class="dashboard-container">
    <SideNavbar class="side-navbar" />
    <main>
      <Navbar
        class="d-flex justify-content-between global-nav align-items-center p-2"
      >
        <div class="logo px-4">
          <svg
            width="179"
            height="37"
            viewBox="0 0 179 37"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M51.2 36.46H39.2V35.84L41.08 34.36V22.24L39 21.54L39.4 20.74H51L52.08 20.38V24.98L51.48 25.18L49.1 21.64H43.58V27.98H46.72L48.18 25.42H48.8V31.5L48 31.9L46.74 28.88H43.58V35.56H49.02L51.68 31.62L52.28 31.82V36.82L51.2 36.46Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M58.4891 30.5L59.2891 29.48H65.5491V30.08L64.7491 31.1H58.4891V30.5Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M76.763 25.64C77.3096 25.64 77.943 25.72 78.663 25.88C79.3963 26.0267 79.923 26.1933 80.243 26.38V29.46H79.483C78.963 28.7933 78.363 28.2733 77.683 27.9C77.0163 27.5133 76.323 27.32 75.603 27.32C74.9896 27.32 74.523 27.5933 74.203 28.14C73.8963 28.6867 73.743 29.4867 73.743 30.54C73.743 31.7933 74.0163 32.8467 74.563 33.7C75.1096 34.54 75.8896 34.96 76.903 34.96C77.663 34.96 78.743 34.4133 80.143 33.32L80.743 34.08L77.663 36.5C77.1296 36.6067 76.4896 36.66 75.743 36.66C74.863 36.66 74.0696 36.4333 73.363 35.98C72.6696 35.5133 72.123 34.8867 71.723 34.1C71.3363 33.3133 71.143 32.4467 71.143 31.5C71.143 30.4733 71.4296 29.5067 72.003 28.6C72.5896 27.6933 73.323 26.9733 74.203 26.44C75.083 25.9067 75.9363 25.64 76.763 25.64Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M92.0286 25.64C92.9086 25.64 93.6953 25.8733 94.3886 26.34C95.0953 26.7933 95.6419 27.4133 96.0286 28.2C96.4286 28.9867 96.6286 29.8533 96.6286 30.8C96.6286 31.8267 96.3153 32.7933 95.6886 33.7C95.0619 34.5933 94.2753 35.3133 93.3286 35.86C92.3953 36.3933 91.4886 36.66 90.6086 36.66C89.7286 36.66 88.9353 36.4333 88.2286 35.98C87.5353 35.5133 86.9886 34.8867 86.5886 34.1C86.2019 33.3133 86.0086 32.4467 86.0086 31.5C86.0086 30.4733 86.3219 29.5133 86.9486 28.62C87.5753 27.7133 88.3553 26.9933 89.2886 26.46C90.2353 25.9133 91.1486 25.64 92.0286 25.64ZM90.8686 27.32C89.3619 27.32 88.6086 28.3933 88.6086 30.54C88.6086 31.8067 88.8819 32.8667 89.4286 33.72C89.9753 34.56 90.7553 34.98 91.7686 34.98C93.2753 34.98 94.0286 33.9 94.0286 31.74C94.0286 30.4867 93.7553 29.44 93.2086 28.6C92.6619 27.7467 91.8819 27.32 90.8686 27.32Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M120.527 36.46H116.727V29.72C116.727 28.9867 116.613 28.4733 116.387 28.18C116.16 27.8867 115.753 27.74 115.167 27.74C114.753 27.74 114.347 27.82 113.947 27.98C113.547 28.1267 113.073 28.4267 112.527 28.88V34.96L114.327 35.66L113.927 36.46H110.127V29.72C110.127 28.9867 110.013 28.4733 109.787 28.18C109.56 27.8867 109.153 27.74 108.567 27.74C108.153 27.74 107.747 27.82 107.347 27.98C106.947 28.1267 106.473 28.4267 105.927 28.88V34.96L107.727 35.66L107.327 36.46H101.747V35.84L103.527 34.44V28.78L101.747 27.74V27.12L105.167 25.44L105.807 28L108.467 25.78C108.747 25.6733 109.113 25.62 109.567 25.62C110.34 25.62 110.98 25.8333 111.487 26.26C111.993 26.6733 112.313 27.2467 112.447 27.98L115.047 25.8C115.327 25.6933 115.693 25.64 116.147 25.64C117.053 25.64 117.773 25.92 118.307 26.48C118.84 27.0267 119.107 27.7733 119.107 28.72V34.96L120.927 35.66L120.527 36.46Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M131.928 36.5C131.394 36.6067 130.754 36.66 130.008 36.66C129.128 36.66 128.334 36.4333 127.628 35.98C126.934 35.5133 126.388 34.8867 125.988 34.1C125.601 33.3133 125.408 32.4467 125.408 31.5C125.408 30.4733 125.721 29.5133 126.348 28.62C126.974 27.7133 127.754 26.9933 128.688 26.46C129.634 25.9133 130.548 25.64 131.428 25.64C132.694 25.64 133.674 26.14 134.368 27.14C135.074 28.14 135.428 29.46 135.428 31.1H128.028C128.108 32.2333 128.414 33.16 128.948 33.88C129.494 34.6 130.234 34.96 131.168 34.96C132.034 34.96 133.268 34.2867 134.868 32.94L135.468 33.7L131.928 36.5ZM130.268 27.32C128.828 27.32 128.074 28.3067 128.008 30.28H132.688C132.568 29.56 132.441 29.0133 132.308 28.64C132.188 28.2533 131.968 27.94 131.648 27.7C131.341 27.4467 130.881 27.32 130.268 27.32Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M147.779 25.66C148.219 25.66 148.606 25.78 148.939 26.02C149.273 26.26 149.533 26.5933 149.719 27.02L148.399 28.68H147.639C147.586 28.3467 147.486 28.1133 147.339 27.98C147.206 27.8333 147.019 27.76 146.779 27.76C146.486 27.76 146.173 27.84 145.839 28C145.519 28.1467 145.153 28.4333 144.739 28.86V34.82L147.539 35.68L147.139 36.48H140.559V35.86L142.339 34.46V28.8L140.559 27.76V27.14L143.979 25.46L144.599 27.92L146.679 25.8C146.959 25.6933 147.326 25.64 147.779 25.64V25.66Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M159.45 25.64C159.997 25.64 160.63 25.72 161.35 25.88C162.084 26.0267 162.61 26.1933 162.93 26.38V29.46H162.17C161.65 28.7933 161.05 28.2733 160.37 27.9C159.704 27.5133 159.01 27.32 158.29 27.32C157.677 27.32 157.21 27.5933 156.89 28.14C156.584 28.6867 156.43 29.4867 156.43 30.54C156.43 31.7933 156.704 32.8467 157.25 33.7C157.797 34.54 158.577 34.96 159.59 34.96C160.35 34.96 161.43 34.4133 162.83 33.32L163.43 34.08L160.35 36.5C159.817 36.6067 159.177 36.66 158.43 36.66C157.55 36.66 156.757 36.4333 156.05 35.98C155.357 35.5133 154.81 34.8867 154.41 34.1C154.024 33.3133 153.83 32.4467 153.83 31.5C153.83 30.4733 154.117 29.5067 154.69 28.6C155.277 27.6933 156.01 26.9733 156.89 26.44C157.77 25.9067 158.624 25.64 159.45 25.64Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M175.216 36.5C174.683 36.6067 174.043 36.66 173.296 36.66C172.416 36.66 171.623 36.4333 170.916 35.98C170.223 35.5133 169.676 34.8867 169.276 34.1C168.889 33.3133 168.696 32.4467 168.696 31.5C168.696 30.4733 169.009 29.5133 169.636 28.62C170.263 27.7133 171.043 26.9933 171.976 26.46C172.923 25.9133 173.836 25.64 174.716 25.64C175.983 25.64 176.963 26.14 177.656 27.14C178.363 28.14 178.716 29.46 178.716 31.1H171.316C171.396 32.2333 171.703 33.16 172.236 33.88C172.783 34.6 173.523 34.96 174.456 34.96C175.323 34.96 176.556 34.2867 178.156 32.94L178.756 33.7L175.216 36.5ZM173.556 27.32C172.116 27.32 171.363 28.3067 171.296 30.28H175.976C175.856 29.56 175.729 29.0133 175.596 28.64C175.476 28.2533 175.256 27.94 174.936 27.7C174.629 27.4467 174.169 27.32 173.556 27.32Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M48.8248 13.92C48.8248 13.5067 48.6581 13.12 48.3248 12.76C47.9914 12.4 47.5714 12.0733 47.0648 11.78C46.5714 11.4733 45.8981 11.1 45.0448 10.66C44.0314 10.1267 43.2181 9.67333 42.6048 9.3C41.9914 8.91333 41.4648 8.46 41.0248 7.94C40.5981 7.42 40.3848 6.84667 40.3848 6.22C40.3848 5.55333 40.6648 4.84 41.2248 4.08C41.7848 3.30667 42.4648 2.66 43.2648 2.14C44.0781 1.60667 44.8248 1.34 45.5048 1.34C46.3314 1.34 47.2914 1.44 48.3848 1.64C49.4781 1.84 50.2781 2.05333 50.7848 2.28V6.16H50.0248C49.3714 5.08 48.6514 4.24 47.8648 3.64C47.0914 3.04 46.2781 2.74 45.4248 2.74C44.6648 2.74 44.0581 2.98 43.6048 3.46C43.1648 3.92667 42.9448 4.54 42.9448 5.3C42.9448 5.74 43.1114 6.15333 43.4448 6.54C43.7914 6.91333 44.2114 7.24667 44.7048 7.54C45.2114 7.83333 45.9114 8.21333 46.8048 8.68C47.7914 9.17333 48.5914 9.61333 49.2048 10C49.8181 10.3733 50.3314 10.8133 50.7448 11.32C51.1714 11.8133 51.3848 12.3733 51.3848 13C51.3848 13.6667 51.0848 14.3867 50.4848 15.16C49.8848 15.92 49.1514 16.5667 48.2848 17.1C47.4314 17.62 46.6514 17.88 45.9448 17.88C45.0781 17.88 44.0448 17.78 42.8448 17.58C41.6581 17.38 40.8048 17.1667 40.2848 16.94V13.06H41.0448C41.7248 14.14 42.4981 14.98 43.3648 15.58C44.2314 16.18 45.1248 16.48 46.0448 16.48C46.5914 16.48 47.0781 16.36 47.5048 16.12C47.9314 15.88 48.2581 15.5667 48.4848 15.18C48.7114 14.78 48.8248 14.36 48.8248 13.92Z"
              fill="#F53D3D"
            />
            <path
              d="M66.9087 17.46H63.1087V15.72L60.8487 17.5C60.582 17.6067 60.2487 17.66 59.8487 17.66C58.702 17.66 57.8687 17.3733 57.3487 16.8C56.842 16.2267 56.5887 15.54 56.5887 14.74C56.5887 14.26 56.762 13.7867 57.1087 13.32C57.4553 12.8533 57.9487 12.4133 58.5887 12H63.1087V10.72C63.1087 9.85333 62.8753 9.24 62.4087 8.88C61.9553 8.52 61.3287 8.34 60.5287 8.34C59.702 8.34 58.6887 8.84 57.4887 9.84L56.8887 9.08L59.7687 6.8C60.302 6.69333 60.942 6.64 61.6887 6.64C62.902 6.64 63.842 6.94 64.5087 7.54C65.1753 8.12667 65.5087 8.98667 65.5087 10.12V15.96L67.3087 16.66L66.9087 17.46ZM60.4887 15.96C61.302 15.96 62.1753 15.5867 63.1087 14.84V12.82H59.5687C59.3953 13.0333 59.2687 13.2467 59.1887 13.46C59.122 13.6733 59.0887 13.9067 59.0887 14.16C59.0887 14.6533 59.2153 15.08 59.4687 15.44C59.722 15.7867 60.062 15.96 60.4887 15.96Z"
              fill="#F53D3D"
            />
            <path
              d="M75.6906 15.48C75.6906 16.0133 75.7039 16.5067 75.7305 16.96C75.7705 17.4 75.8172 17.7 75.8705 17.86L72.0305 22.74L71.2706 22.14C72.0706 21.1933 72.6039 20.3867 72.8705 19.72C73.1505 19.0533 73.2906 18.2267 73.2906 17.24V9.6L71.5105 8.36V7.74L74.9305 6.46H75.6906V15.48ZM74.4106 0.46C74.8106 0.46 75.1372 0.606666 75.3905 0.899999C75.6572 1.19333 75.7906 1.56 75.7906 2C75.7906 2.30667 75.6972 2.6 75.5106 2.88C75.3239 3.14667 75.0905 3.36 74.8105 3.52C74.5305 3.68 74.2572 3.76 73.9906 3.76C73.5906 3.76 73.2572 3.61333 72.9906 3.32C72.7372 3.02667 72.6105 2.66 72.6105 2.22C72.6105 1.91333 72.7039 1.62667 72.8905 1.36C73.0772 1.08 73.3105 0.86 73.5905 0.699999C73.8705 0.54 74.1439 0.46 74.4106 0.46Z"
              fill="#F53D3D"
            />
            <path
              d="M87.2687 17.46H81.6887V16.84L83.4687 15.44V9.6L81.6887 8.36V7.74L85.1087 6.46H85.8687V15.96L87.6687 16.66L87.2687 17.46ZM84.5887 0.46C84.9887 0.46 85.3153 0.606666 85.5687 0.899999C85.8353 1.19333 85.9687 1.56 85.9687 2C85.9687 2.30667 85.8753 2.6 85.6887 2.88C85.502 3.14667 85.2687 3.36 84.9887 3.52C84.7087 3.68 84.4353 3.76 84.1687 3.76C83.7687 3.76 83.4353 3.61333 83.1687 3.32C82.9153 3.02667 82.7887 2.66 82.7887 2.22C82.7887 1.91333 82.882 1.62667 83.0687 1.36C83.2553 1.08 83.4887 0.86 83.7687 0.699999C84.0487 0.54 84.322 0.46 84.5887 0.46Z"
              fill="#F53D3D"
            />
            <path
              d="M97.2421 17.46H91.6621V16.84L93.4421 15.44V3.14L91.6621 1.9V1.28L95.0821 0H95.8421V15.96L97.6421 16.66L97.2421 17.46Z"
              fill="#F53D3D"
            />
            <path
              d="M108.365 6.64C109.245 6.64 110.032 6.87333 110.725 7.34C111.432 7.79333 111.978 8.41333 112.365 9.2C112.765 9.98667 112.965 10.8533 112.965 11.8C112.965 12.8267 112.652 13.7933 112.025 14.7C111.398 15.5933 110.612 16.3133 109.665 16.86C108.732 17.3933 107.825 17.66 106.945 17.66C106.065 17.66 105.272 17.4333 104.565 16.98C103.872 16.5133 103.325 15.8867 102.925 15.1C102.538 14.3133 102.345 13.4467 102.345 12.5C102.345 11.4733 102.658 10.5133 103.285 9.62C103.912 8.71333 104.692 7.99333 105.625 7.46C106.572 6.91333 107.485 6.64 108.365 6.64ZM107.205 8.32C105.698 8.32 104.945 9.39333 104.945 11.54C104.945 12.8067 105.218 13.8667 105.765 14.72C106.312 15.56 107.092 15.98 108.105 15.98C109.612 15.98 110.365 14.9 110.365 12.74C110.365 11.4867 110.092 10.44 109.545 9.6C108.998 8.74667 108.218 8.32 107.205 8.32Z"
              fill="#F53D3D"
            />
            <path
              d="M34.1165 36H8.91648V34.698L12.8645 31.59V6.138L8.49648 4.668L9.33648 2.988H33.6965L35.9645 2.232V11.892L34.7045 12.312L29.7065 4.878H18.1145V18.192H24.7085L27.7745 12.816H29.0765V25.584L27.3965 26.424L24.7505 20.082H18.1145V34.11H29.5385L35.1245 25.836L36.3845 26.256V36.756L34.1165 36Z"
              fill="#F53D3D"
              fill-opacity="0.45"
            />
            <path
              d="M17.934 28.418C17.934 27.55 17.584 26.738 16.884 25.982C16.184 25.226 15.302 24.54 14.238 23.924C13.202 23.28 11.788 22.496 9.996 21.572C7.868 20.452 6.16 19.5 4.872 18.716C3.584 17.904 2.478 16.952 1.554 15.86C0.658 14.768 0.21 13.564 0.21 12.248C0.21 10.848 0.798 9.35 1.974 7.754C3.15 6.13 4.578 4.772 6.258 3.68C7.966 2.56 9.534 2 10.962 2C12.698 2 14.714 2.21 17.01 2.63C19.306 3.05 20.986 3.498 22.05 3.974V12.122H20.454C19.082 9.854 17.57 8.09 15.918 6.83C14.294 5.57 12.586 4.94 10.794 4.94C9.198 4.94 7.924 5.444 6.972 6.452C6.048 7.432 5.586 8.72 5.586 10.316C5.586 11.24 5.936 12.108 6.636 12.92C7.364 13.704 8.246 14.404 9.282 15.02C10.346 15.636 11.816 16.434 13.692 17.414C15.764 18.45 17.444 19.374 18.732 20.186C20.02 20.97 21.098 21.894 21.966 22.958C22.862 23.994 23.31 25.17 23.31 26.486C23.31 27.886 22.68 29.398 21.42 31.022C20.16 32.618 18.62 33.976 16.8 35.096C15.008 36.188 13.37 36.734 11.886 36.734C10.066 36.734 7.896 36.524 5.376 36.104C2.884 35.684 1.092 35.236 0 34.76V26.612H1.596C3.024 28.88 4.648 30.644 6.468 31.904C8.288 33.164 10.164 33.794 12.096 33.794C13.244 33.794 14.266 33.542 15.162 33.038C16.058 32.534 16.744 31.876 17.22 31.064C17.696 30.224 17.934 29.342 17.934 28.418Z"
              fill="#F53D3D"
            />
          </svg>
        </div>
        <div class="nav-links">
          <div class="button-wrapper">
            <button class="primary-btn" @click="Logout">Logout</button>
          </div>
        </div>
      </Navbar>
      <router-view></router-view>
    </main>
  </div>
</template>
<script setup>
import SideNavbar from "./navbars/SideNavbar.vue";
import Navbar from "./navbars/Navbar.vue";
import { useAuthStore } from "../../store/authentication";
import { useProductStore } from "../../store/products";
import { watch, onMounted } from "vue";
import router from "../../router/router";
const authStore = useAuthStore();
const productStore = useProductStore();

onMounted(async () => {
  await authStore.getUserInfomation();
});

watch(() => {
  if (!authStore.current_user_id || !authStore.current_user_details) {
    authStore.getUserData();
    authStore.getUserInfomation();
  }
  if (
    !authStore.current_user_details &&
    !authStore.access_token &&
    !authStore.current_user_id
  ) {
    router.push("/login");
  }
});

const Logout = () => {
  localStorage.removeItem("access_token");
  authStore.access_token = "";
  authStore.current_user_details = "";
  authStore.current_user_id = "";
  localStorage.removeItem("current_user_details");
  localStorage.removeItem("user_id");
  productStore.current_user_id = "";
  router.push("/login");
};
</script>

<style scoped src="../../styles/components/dashboard/_dashboard-main.scss">
</style>